// This is your Prisma schema file
datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id           String    @id @default(cuid())
  email        String    @unique
  password     String
  name         String?
  role         String    @default("member") // member, student, teacher, schooladmin, superadmin
  powerLevel   Int       @default(1) // 1-5 power level
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
  school       School?   @relation(fields: [schoolId], references: [id])
  schoolId     String?
}

model School {
  id           String    @id @default(cuid())
  name         String
  roleNumber   String    @unique // Random role number for school authentication
  description  String?
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
  users        User[]    // All users associated with this school
}
